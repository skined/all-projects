<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title></title>
	<style type="text/css">
		div{
			width:300px;
			height:300px;
			border:5px  #505050 dashed ;
			text-align:center;
			line-height:300px;
			text-align:center;
			font-size:20px;
		}
	</style>
</head>
<body>
<div id="box">将文件拖放到此处</div>
<ul id="ul1">
	<!-- <li></li> -->
</ul>
<script type="text/javascript">
	var ul=document.getElementById("ul1");
	var oBox=document.getElementById("box");
	oBox.ondragenter=function(){
		this.innerHTML='松开鼠标触发';
	}
	oBox.ondragleave=function(){
		this.innerHTML='将文件拖放到此处';
	}
	oBox.ondragover=function(ev){
        ev.preventDefault();//阻止默认事件的发生
	}
	oBox.ondrop=function(ev){
		ev.preventDefault();//阻止默认事件的发生
	    console.log(ev.dataTransfer.files);
	    for(i=0;i<ev.dataTransfer.files.length;i++){
	    	if(ev.dataTransfer.files[i].type.indexOf('image')!=-1){
	    		var fd=new FileReader();
	    		fd.readAsDataURL(ev.dataTransfer.files[i]);
	    		fd.onload=function(){
	    			var li=document.createElement('li');
	    			var img=document.createElement('img');
	    			img.src=this.result();
	    			li.appendChild(img);
	    			ul1.appendChild(li);
	    		}
	    	}else{
	    		alert('请上传图片格式的文件！');
	    	}
	    }
	  }
                                                                      	  
</script>
</body>
</html>
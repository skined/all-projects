<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title></title>
	<style type="text/css">
		*{
          margin:0;
          padding:0;
		}
       #box{
       	width:100px;
       	height:100px;
        position:absolute;
       	background:red;
       	left:0;
       	top:0;
       }
	</style>
</head>
<body>
<div id="box"></div>
<script type="text/javascript">
	var div=document.getElementById('box');
	 div.onmousedown=function(ev){
         var divX=ev.clientX-div.offsetLeft;
         var divY=ev.clientY-div.offsetTop;
         document.onmousemove=function(ev){
         var left=ev.clientX-divX;
         var top=ev.clientY-divY;
         if (left<=0) {
         	left=0;
         }else if(left>document.documentElement.clientWidth-div.offsetWidth){
         	left=document.documentElement.clientWidth-div.offsetWidth;
         }  if(top<=0){
         	top=0;
         }else if(top>document.documentElement.clientHeight-div.offsetHeight){
         	top=document.documentElement.clientHeight-div.offsetHeight;
         }
         div.style.left=left+'px';
         div.style.top=top+'px';
         };
       
         document.onmouseup=function(){
           document.onmousemove=null;
        
         }
	 }
</script>
</body>
</html>
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title></title>
	<style type="text/css">
		*{
			margin:0;
			padding:0;
		}
     	#demo{
     		width:100px;
     		height:100px;
     		background:red;
     		position:absolute; 
     		left:0px;
     	}
	</style>
</head>
<body>
<button id="btn1">点击移动到200px</button>
<button id="btn2">点击移动到400px</button>
<div id="demo"></div>
<script>
	window.onload=function(){
		var btn1=document.getElementById("btn1");
		var demo=document.getElementById("demo");
		var _btn2=document.getElementById("btn2");
		//给元素添加点击事件
		btn1.onclick=function(){
			//调用动画函数
			animate(demo,200);
			
		}
		btn2.onclick=function(){
			animate(demo,400);
		}
		//封装一个函数，要移动的元素不固定，结束的位置不固定
		//第一个参数为要移动的对象，第二个参数为结束位置
		function animate(obj,end){
             console.log(obj,end);
             //获取到元素的当前位置
             var _left=obj.offsetLeft;
             //定义步数每次走多少步
             var step=7;
             //console.log(_left);
             //如果结束位置大于当前位置则+step，如果小于则-step
             if(end>_left){
             	step=+step;
             }else{
             	step=-step;
             }
             console.log(step);
             var timer=setInterval(play,50);
             function play(){
             	//判断如果结束位置-当前位置小于步数时，说明到地方了要结束运动
             	if(Math.abs(end-_left)<Math.abs(step)){
             		clearInterval(timer);
             	}else{
             		//当前位置+步数
             		_left+=step;
//             		console.log(_left);
             		obj.style.left=_left+'px';
             	}
             }
		}
	}
</script>
</body>
</html>
